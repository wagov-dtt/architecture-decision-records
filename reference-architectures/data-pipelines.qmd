---
title: "Reference Architecture: Data Pipelines"
date: 2025-01-28
status: Proposed
tags: [reference, data, pipelines]
---

## When to Use This Pattern

Use when building data processing systems for analytics, ETL workloads, or real-time data transformation across organisational systems.

## Overview

Template for implementing scalable data pipelines using SQLMesh framework with S3 object storage, Aurora database patterns, and modern analytics engines (DuckDB/DuckLake) or legacy engines (Iceberg/Trino/Athena) based on existing data lake alignment.

## Core Components

```{mermaid}
graph TB
    Sources[Data Sources] --> SQLMesh[SQLMesh Orchestration]
    SQLMesh --> Aurora[Aurora PostgreSQL<br/>Schema & Metadata]
    SQLMesh --> S3[S3 Object Storage<br/>Data Files]
    
    Aurora --> DuckLake[DuckDB/DuckLake]
    S3 --> DuckLake
    DuckLake --> Reports[Static Reports]
```

## Project Kickoff Steps

1. **Setup Database** - Follow [ADR 019: Database Patterns](../operations/019-database-patterns.qmd) for Aurora Serverless v2 as data warehouse and backup strategies
2. **Deploy on EKS** - Follow [ADR 002: AWS EKS for Cloud Workloads](../operations/002-workloads.qmd) for SQLMesh container deployment
3. **Configure Logging** - Follow [ADR 007: Centralized Security Logging](../operations/007-logging.qmd) for transformation audit trails
4. **Configure Infrastructure** - Follow [ADR 010: Infrastructure as Code](../operations/010-configmgmt.qmd) for git-based workflows and state management
5. **Apply Isolation** - Follow [ADR 001: Application Isolation](../security/001-isolation.qmd) for data processing separation
6. **SQLMesh Standards** - Follow [ADR 004: CI/CD Quality Assurance](../development/004-cicd.qmd) and [ADR 009: Release Documentation Standards](../development/009-release.qmd) for SQLMesh CI/CD integration
7. **Data Governance** - Follow [ADR 020: Data Governance Standards](../operations/020-data-governance.qmd) for SQLMesh data contracts, lineage tracking, and quality validation
8. **Analytics Tools** - Follow [ADR 021: Analytics Tooling Standards](../operations/021-analytics-tooling.qmd) for Quarto static reporting and Evidence BI interactive dashboards
